<!doctype html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>–õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è ‚Ññ1 –¢–ò</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div class="container">
      <header>
        <h1>üîê –õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è ‚Ññ1</h1>
        <p class="subtitle">
          –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –∏ –¥–µ—à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–æ–≤ –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ
        </p>
      </header>

      <div class="tabs">
        <button class="tab active" data-tab="rail-fence">
          <span class="tab-icon">üöÇ</span>
          –ñ–µ–ª–µ–∑–Ω–æ–¥–æ—Ä–æ–∂–Ω–∞—è –∏–∑–≥–æ—Ä–æ–¥—å
        </button>
        <button class="tab" data-tab="vigenere">
          <span class="tab-icon">üîë</span>
          –®–∏—Ñ—Ä –í–∏–∂–µ–Ω–µ—Ä–∞
        </button>
      </div>

      <!-- Rail Fence Cipher -->
      <div class="tab-content active" id="rail-fence">
        <div class="info-card">
          <h3>–ú–µ—Ç–æ–¥ "–ñ–µ–ª–µ–∑–Ω–æ–¥–æ—Ä–æ–∂–Ω–∞—è –∏–∑–≥–æ—Ä–æ–¥—å"</h3>
          <p>
            –°–∏–º–≤–æ–ª—ã –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –∑–∏–≥–∑–∞–≥–æ–º, –∑–∞—Ç–µ–º —á–∏—Ç–∞—é—Ç—Å—è –ø–æ—Å—Ç—Ä–æ—á–Ω–æ.
            –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ —Ä—É—Å—Å–∫–∏–µ –±—É–∫–≤—ã.
          </p>
        </div>

        <div class="cipher-section">
          <div class="input-area">
            <label for="railText">
              <span>–ò—Å—Ö–æ–¥–Ω—ã–π —Ç–µ–∫—Å—Ç</span>
              <span class="char-count" id="railCharCount">0 / 4096</span>
            </label>
            <div class="input-with-file">
              <textarea
                id="railText"
                placeholder="–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç –¥–ª—è —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è (—Ç–æ–ª—å–∫–æ —Ä—É—Å—Å–∫–∏–µ –±—É–∫–≤—ã)..."
                maxlength="4096"
              ></textarea>
              <button
                class="file-btn"
                onclick="loadFile('railText')"
                title="–ó–∞–≥—Ä—É–∑–∏—Ç—å –∏–∑ —Ñ–∞–π–ª–∞"
              >
                üìÅ
              </button>
              <input
                type="file"
                id="railFileInput"
                accept=".txt"
                style="display: none"
              />
            </div>
          </div>

          <div class="key-area">
            <label for="railKey">
              <span>–ö–ª—é—á (–≤—ã—Å–æ—Ç–∞ –∏–∑–≥–æ—Ä–æ–¥–∏)</span>
              <span class="hint">–æ—Ç 2 –¥–æ 10</span>
            </label>
            <input
              type="number"
              id="railKey"
              value="4"
              min="2"
              max="10"
              placeholder="–í–≤–µ–¥–∏—Ç–µ –≤—ã—Å–æ—Ç—É"
            />
          </div>

          <div class="action-buttons">
            <button class="btn btn-primary" onclick="handleEncryptRail()">
              <span>üîí</span> –ó–∞—à–∏—Ñ—Ä–æ–≤–∞—Ç—å
            </button>
            <button class="btn btn-secondary" onclick="handleDecryptRail()">
              <span>üîì</span> –†–∞—Å—à–∏—Ñ—Ä–æ–≤–∞—Ç—å
            </button>
            <button class="btn btn-success" onclick="saveResult('railResult')">
              <span>üíæ</span> –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç
            </button>
          </div>

          <div class="result-area">
            <label>
              <span>–†–µ–∑—É–ª—å—Ç–∞—Ç</span>
            </label>
            <div class="result-box" id="railResult"></div>
          </div>

          <div class="visualization" id="railVisualization"></div>
        </div>
      </div>

      <!-- Vigenere Cipher -->
      <div class="tab-content" id="vigenere">
        <div class="info-card">
          <h3>–®–∏—Ñ—Ä –í–∏–∂–µ–Ω–µ—Ä–∞ (–ø—Ä–æ–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–π –∫–ª—é—á)</h3>
          <p>
            –ú–Ω–æ–≥–æ–∞–ª—Ñ–∞–≤–∏—Ç–Ω—ã–π —à–∏—Ñ—Ä –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∏ —Å –ø—Ä–æ–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–º –∫–ª—é—á–æ–º. –ü—Ä–∏
            –ø–æ–≤—Ç–æ—Ä–Ω–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –∫–ª—é—á —Å–¥–≤–∏–≥–∞–µ—Ç—Å—è –Ω–∞ –æ–¥–Ω—É –ø–æ–∑–∏—Ü–∏—é –≤ –∞–ª—Ñ–∞–≤–∏—Ç–µ.
          </p>
        </div>

        <div class="cipher-section">
          <div class="input-area">
            <label for="vigText">
              <span>–ò—Å—Ö–æ–¥–Ω—ã–π —Ç–µ–∫—Å—Ç</span>
              <span class="char-count" id="vigCharCount">0 / 4096</span>
            </label>
            <div class="input-with-file">
              <textarea
                id="vigText"
                placeholder="–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç –¥–ª—è —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è (—Ç–æ–ª—å–∫–æ —Ä—É—Å—Å–∫–∏–µ –±—É–∫–≤—ã)..."
                maxlength="4096"
              ></textarea>
              <button
                class="file-btn"
                onclick="loadFile('vigText')"
                title="–ó–∞–≥—Ä—É–∑–∏—Ç—å –∏–∑ —Ñ–∞–π–ª–∞"
              >
                üìÅ
              </button>
              <input
                type="file"
                id="vigFileInput"
                accept=".txt"
                style="display: none"
              />
            </div>
          </div>

          <div class="key-area">
            <label for="vigKey">
              <span>–ö–ª—é—á–µ–≤–æ–µ —Å–ª–æ–≤–æ</span>
              <span class="hint"
                >—Ç–æ–ª—å–∫–æ —Ä—É—Å—Å–∫–∏–µ –±—É–∫–≤—ã, –æ—Ç 3 –¥–æ 20 —Å–∏–º–≤–æ–ª–æ–≤</span
              >
            </label>
            <input
              type="text"
              id="vigKey"
              value="–ö–õ–Æ–ß"
              placeholder="–í–≤–µ–¥–∏—Ç–µ –∫–ª—é—á–µ–≤–æ–µ —Å–ª–æ–≤–æ"
              maxlength="20"
            />
          </div>

          <div class="action-buttons">
            <button class="btn btn-primary" onclick="handleEncryptVigenere()">
              <span>üîí</span> –ó–∞—à–∏—Ñ—Ä–æ–≤–∞—Ç—å
            </button>
            <button class="btn btn-secondary" onclick="handleDecryptVigenere()">
              <span>üîì</span> –†–∞—Å—à–∏—Ñ—Ä–æ–≤–∞—Ç—å
            </button>
            <button class="btn btn-success" onclick="saveResult('vigResult')">
              <span>üíæ</span> –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç
            </button>
          </div>

          <div class="result-area">
            <label>
              <span>–†–µ–∑—É–ª—å—Ç–∞—Ç</span>
            </label>
            <div class="result-box" id="vigResult"></div>
          </div>

          <div class="visualization" id="vigVisualization"></div>
        </div>
      </div>
    </div>

    <!-- Error Modal -->
    <div class="modal" id="errorModal">
      <div class="modal-content">
        <div class="modal-header">
          <span class="modal-icon">‚ö†Ô∏è</span>
          <h3>–û—à–∏–±–∫–∞</h3>
        </div>
        <div class="modal-body" id="errorMessage"></div>
        <div class="modal-footer">
          <button class="btn btn-primary" onclick="closeModal()">
            –ü–æ–Ω—è—Ç–Ω–æ
          </button>
        </div>
      </div>
    </div>

    <footer class="footer">
      <div><strong>–†–∞–∑—Ä–∞–±–æ—Ç–∞–ª:</strong> —Å—Ç—É–¥–µ–Ω—Ç –≥—Ä—É–ø–ø—ã 451003, –ë–ì–£–ò–†</div>
      <div>
        –õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞ ‚Ññ1 ‚Äî <em>¬´–ü—Ä–æ—Å—Ç–µ–π—à–∏–µ –º–µ—Ç–æ–¥—ã —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è¬ª</em>
      </div>
      <div>–î–∏—Å—Ü–∏–ø–ª–∏–Ω–∞: –¢–µ–æ—Ä–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ (–¢–ò)</div>
      <div class="footer-year">¬© 2026</div>
    </footer>

    <script src="script.js"></script>
    <script src="ciphers/rail_fence.js"></script>
    <script src="ciphers/vigenere.js"></script>
  </body>
</html>
